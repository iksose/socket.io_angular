angular.module("uiRouterSample").controller("alertController",["$scope","errors",function(a,b){a.alerts=function(){return b.getErrors()},a.addAlert=function(){a.alerts.push({msg:"Another alert!"})},a.closeAlert=function(){b.popLast()}}]),angular.module("uiRouterSample").controller("blogController",["$scope","$state","blogFactory",function(a,b,c){a.note={id:0,title:"Title goes here",body:'<b>Press Back and Forward to simulate loading a new note</b><div><b><br/></b></div><div><img src="http://puppydogweb.com/gallery/puppies/labradorretriever2.jpg"/><b><br/></b></div>'};var d=function(b){a.note=b[0]};c.getMovies(d),a.funUpdate=function(a){c.updatePost(a)},a.postsList=[];var e=function(b){a.postsList=b};c.getAllPosts(e),a.funUpdate2=function(a){c.updatePost(a)},a.findArticle=function(a){}}]).controller("blogController_individual",["$scope","$state","$stateParams","blogFactory",function(a,b,c,d){var e=c;a.postDetail;var f=function(b){a.postDetail=b};d.returnOne(e,f),a.funUpdate=function(a){d.updatePost(a)}}]).controller("blogController_newPost",["$scope","$state","$rootScope","blogFactory","errors",function(a,b,c,d,e){var f=c.loggedIn;f||(e.addErr("danger","You're not authorized to do that"),b.go("home")),a.blogpost={}}]).factory("blogFactory",["$http","errors",function(a,b){return{saveMovie:function(c){a.post("secure/admin/movies",c).success(function(a){}).error(function(a,c){b.addErr("danger",a)})},getMovies:function(b){a.get("/blogposts").success(function(a){b(a)}).error(function(a,c){b(a,c)})},updatePost:function(b){a.post("/blogposts",b).success(function(a){}).error(function(a,b){})},getAllPosts:function(b){a.get("/blogposts").success(function(a){b(a)}).error(function(a,b){})},returnOne:function(b,c){a.post("/posts",b).success(function(a){c(a)}).error(function(a,b){c(a,b)})}}}]),angular.module("uiRouterSample").controller("dbController",["$scope","$state","movieFactory",function(a,b,c){function d(b){a.movieList=b}c.getMovies(d),a.movieList=[],a.movieModel={title:"",rating:"XXX"},a.AddMovie=function(){c.saveMovie(a.movieModel)}}]).factory("movieFactory",["$http","errors",function(a,b){return{saveMovie:function(c){a.post("secure/admin/movies",c).success(function(a){}).error(function(a,c){b.addErr("danger",a)})},getMovies:function(b){a.get("secure/admin/movies").success(function(a){b(a)}).error(function(a,c){b(a,c)})}}}]),angular.module("uiRouterSample").directive("ngEnter",function(){return function(a,b,c){b.bind("keydown keypress",function(b){13===b.which&&(a.$apply(function(){a.$eval(c.ngEnter)}),b.preventDefault())})}}),angular.module("uiRouterSample").factory("contacts",["$http",function(a,b){var c="contacts.json",d=a.get(c).then(function(a){return a.data.contacts}),e={};return e.all=function(){return d},e.get=function(a){return d.then(function(){return b.findById(d,a)})},e}]).service("errors",function(){var a=[];return{getErrors:function(){return a},popLast:function(){a.pop()},addErr:function(b,c){a.pop(),a.push({type:b,msg:c})}}}).factory("utils",function(){return{findById:function(a,b){for(var c=0;c<a.length;c++)if(a[c].id==b)return a[c];return null},newRandomKey:function(a,b,c){var d;do d=a[Math.floor(a.length*Math.random())][b];while(d==c);return d}}}),angular.module("uiRouterSample").controller("loginController",["$scope","$rootScope","$state","$http","loginFactory",function(a,b,c,d,e){a.user,b.loggedIn=!1,d.get("/api/user/").success(function(c){a.user=c,window.donuts=a.user,window.holes=a.loggedIn,""!==c&&(b.loggedIn=!0)}),a.credentials={},a.login=function(){var c=function(c){a.user=c,""!==c&&(b.loggedIn=!0);var d=document.getElementById("loginDropdown");angular.element(d).removeClass("open")},d=a.credentials;e.postLogin(d,c)},a.logoutUser=function(){var a=function(){b.loggedIn=!1};e.submitLogout(a)},a.failedLogin=function(){return e.returnLoginFailure()}}]),angular.module("uiRouterSample").factory("loginFactory",["$http",function(a){var b,c;return{postLogin:function(d,e){a({method:"POST",url:"/dmz/login",params:d,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(a,d){b=a.user,e(a.user),c=""}).error(function(a,b){c="Please try again"})},submitLogout:function(b){a.get("/dmz/logout").success(function(a){b(a)})},getCurrUser:function(){return b},returnLoginFailure:function(){return c}}}]),angular.module("uiRouterSample",["ui.router","ngAnimate","ngResource","ui.bootstrap","chieffancypants.loadingBar","textAngular"]).run(["$rootScope","$state","$stateParams",function(a,b,c){a.$state=b,a.$stateParams=c}]),angular.module("uiRouterSample").config(["$stateProvider","$urlRouterProvider",function(a,b){b.when("/c?id","/contacts/:id").when("/user/:id","/contacts/:id").otherwise("/"),a.state("home",{url:"/",template:'<p class="lead">Welcome to the UI-Router Demo</p><p>Use the menu above to navigate. Pay attention to the <code>$state</code> and <code>$stateParams</code> values below.</p><p>Click these links—<a href="#/c?id=1">Alice</a> or <a href="#/user/42">Bob</a>—to see a url redirect in action.</p>',controller:["$scope","$state","$http","utils",function(){}]}).state("contacts",{url:"/contacts",templateUrl:"views/contacts.html",resolve:{contacts:["contacts",function(a){return a.all()}]},controller:["$scope","$state","contacts","utils",function(a,b,c,d){a.contacts=c,a.goToRandom=function(){var c=d.newRandomKey(a.contacts,"id",b.params.contactId);b.go("contacts.detail",{contactId:c})}}]}).state("contacts.list",{url:"",templateUrl:"views/contacts.list.html"}).state("contacts.detail",{url:"/{contactId:[0-9]{1,4}}",views:{"":{templateUrl:"views/contacts.detail.html",controller:["$scope","$stateParams","utils",function(a,b,c){a.contact=c.findById(a.contacts,b.contactId)}]},"hint@":{template:'This is contacts.detail populating the "hint" ui-view'},menuTip:{templateProvider:["$stateParams",function(a){return'<hr><small class="muted">Contact ID: '+a.contactId+"</small>"}]}}}).state("contacts.detail.item",{url:"/item/:itemId",views:{"":{templateUrl:"views/contacts.detail.item.html",controller:["$scope","$stateParams","$state","utils",function(a,b,c,d){a.item=d.findById(a.contact.items,b.itemId),a.edit=function(){c.go(".edit",b)}}]},"hint@":{template:' This is contacts.detail.item overriding the "hint" ui-view'}}}).state("views/contacts.detail.item.edit",{views:{"@contacts.detail":{templateUrl:"contacts.detail.item.edit.html",controller:["$scope","$stateParams","$state","utils",function(a,b,c,d){a.item=d.findById(a.contact.items,b.itemId),a.done=function(){c.go("^",b)}}]}}}).state("about",{url:"/about",templateProvider:["$timeout",function(a){return a(function(){return'<p class="lead">UI-Router Resources</p><ul><li><a href="https://github.com/angular-ui/ui-router/tree/master/sample">Source for this Sample</a></li><li><a href="https://github.com/angular-ui/ui-router">Github Main Page</a></li><li><a href="https://github.com/angular-ui/ui-router#quick-start">Quick Start</a></li><li><a href="https://github.com/angular-ui/ui-router/wiki">In-Depth Guide</a></li><li><a href="https://github.com/angular-ui/ui-router/wiki/Quick-Reference">API Reference</a></li></ul>'},100)}]}).state("database",{url:"/database",templateUrl:"views/database.html",controller:"dbController"}).state("blog",{url:"/blog",templateUrl:"views/blog.html",controller:"blogController"}).state("bloglist",{url:"/bloglist",templateUrl:"views/bloglist.html",controller:"blogController"}).state("post",{url:"/post/:title",templateUrl:"views/bloglist.post.html",controller:"blogController_individual"}).state("newPost",{url:"/newPost",templateUrl:"views/newpost.html",controller:"blogController_newPost"})}]);